/**
 * @description This ruleset is in prototyping mode and allows all read and write operations for all users.
 *              This is intended for initial development and testing only.  A production ruleset
 *              with proper authorization checks will be required later.
 * @dataStructure Users are stored in `/users/{userId}` and Projects are stored in `/projects/{projectId}`.
 * @keySecurityDecisions All read and write access is currently open for rapid prototyping.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows all users to read and write user profiles.
     * @path /users/{userId}
     * @allow (create, update, delete, get, list) - Any user can create, update, delete, get, and list user profiles.
     * @deny None - This rule is open for prototyping.
     * @principle Open access for prototyping.
     */
    match /users/{userId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write projects.
     * @path /projects/{projectId}
     * @allow (create, update, delete, get, list) - Any user can create, update, delete, get, and list projects.
     * @deny None - This rule is open for prototyping.
     * @principle Open access for prototyping.
     */
    match /projects/{projectId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}